<html>
    <head>
        <script src="/js/sigmajs/sigma.min.js"></script>
        <script src="/js/sigmajs/plugins/sigma.plugins.neighborhoods.min.js"></script>
        <style type="text/css">
            #container {
                width: 100%;
                height: 100%;
                margin: auto;
            }
        </style>
    </head>
    <body>
        <div id="container"></div>
        <script>
            var data = {
                "nodes": [
                    {
                        "id": "n0",
                        "label": "N0",
                        "x": 0,
                        "y": 0,
                        "size": 10,
                        "color": "#000"
                    },
                    {
                        "id": "n1",
                        "label": "N1",
                        "x": 0,
                        "y": 2,
                        "size": 10,
                        "color": "#000"
                    },
                    {
                        "id": "n2",
                        "label": "N2",
                        "x": 2,
                        "y": 2,
                        "size": 10,
                        "color": "#000"
                    },
                    {
                        "id": "n3",
                        "label": "N3",
                        "x": 2,
                        "y": 0,
                        "size": 10,
                        "color": "#000"
                    },
                    {
                        "id": "n4",
                        "label": "N4",
                        "x": 1,
                        "y": 1,
                        "size": 10,
                        "color": "#000"
                    }
                ],
                "edges": [
                    {
                        "id": "e0",
                        "source": "n0",
                        "target": "n1",
                        "type": "arrow",
                        "color": "#000"
                    },
                    {
                        "id": "e1",
                        "source": "n1",
                        "target": "n2",
                        "color": "#000"
                    },
                    {
                        "id": "e2",
                        "source": "n4",
                        "target": "n3",
                        "color": "#000"
                    },
                    {
                        "id": "e3",
                        "source": "n4",
                        "target": "n0",
                        "color": "#000"
                    }
                    
                ]
            }

            var s = new sigma({
                settings: {
                    defaultNodeColor: "#000"
                }
            });
            s.addRenderer({
                type: 'canvas',
                container: 'container'
            });

            s.graph.read(data);
            s.refresh();
            console.log('sigma:', s);

            var db = new sigma.plugins.neighborhoods();
            db.read(data);

            s.bind('overNode', function(e) {
                var nbh = db.neighborhood(e.data.node.id);
                for (e in nbh.edges) {
                    s.graph.edges(nbh.edges[e].id).color = '#FF0000';
                }
                for (n in nbh.nodes) {
                    s.graph.nodes(nbh.nodes[n].id).color = '#FF0000';
                }
                s.refresh();
            });

            s.bind('outNode', function(e) {
                var nbh = db.neighborhood(e.data.node.id);
                for (e in nbh.edges) {
                    s.graph.edges(nbh.edges[e].id).color = '#000';
                }
                for (n in nbh.nodes) {
                    s.graph.nodes(nbh.nodes[n].id).color = '#000';
                }
                s.refresh();
            })
        </script>
    </body>
</html>